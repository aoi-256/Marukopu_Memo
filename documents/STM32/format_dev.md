# I2C通信をやってみよう（開発バージョン)

I2Cの通信方法について説明するよ！

## I2C通信とは

> [!NOTE] 
>
> I2C通信は、データのやり取りに使う線と、タイミングを合わせるために使う線の2本を使って通信する
> 
> 安定性が高く、センサーと400kbps（そこそこはやい）で通信できるため、めちゃくちゃ便利
>
> 慣れてしまえば、かなり簡単に通信ができて便利なので頑張って覚えてみてね

## I2C通信をするためには

I2C通信の細かい説明をすると、結構難しくなってしまうので

ここでは、プログラムを書く上な要素を4つ紹介しておきます

> [!TIP]
>　
> I2C通信をする上では、この4つを覚えておこう!
>
> - データを送る相手（I2Cアドレス)
> - データの送信場所 (レジスタアドレス）
> - 送信/受信するデータ　(データ)
> - データの長さ（データ長）

## 実際に通信をしてみよう！

I2C通信をする上で使う関数は、

**書き込み（送信）**
```cpp
HAL_I2C_Mem_Write(&hi2c2, I2C_ADDR, TEST_REGISTER, 1, &send_data, 1, 10);
```

**読み取り（受信）**
```cpp
HAL_I2C_Mem_Read(&hi2c2, I2C_ADDR, TEST_REGISTER, 1,&receive_data, 1, 10);
```


